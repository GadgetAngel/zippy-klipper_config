[gcode_macro GET_PROBE_LIMITS]
gcode: 
  {% if printer.configfile.config["bltouch"] %}
    {% set probe = printer.configfile.config["bltouch"] %}
  {% elif printer.configfile.config["probe"] %}
    {% set probe = printer.configfile.config["probe"] %}
  {% else %}
    RESPOND MSG="Failed to detect probe in configfile"
  {% endif %}
  {% set stepperx = printer.configfile.config["stepper_x"] %}
  {% set steppery = printer.configfile.config["stepper_y"] %}

  {% set xprobemin = stepperx["position_min"]|float + probe["x_offset"]|float %} 
  {% set xprobemax = stepperx["position_max"]|float + probe["x_offset"]|float %} 
  {% set yprobemin = steppery["position_min"]|float + probe["y_offset"]|float %} 
  {% set yprobemax = steppery["position_max"]|float + probe["y_offset"]|float %}

  RESPOND MSG="Minimum BLTOUCH position X={xprobemin} Y={yprobemin}" 
  RESPOND MSG="Maximum BLTOUCH position X={xprobemax} Y={yprobemax}"

  {% if "xyz" in printer.toolhead.homed_axes %} 
    {% set curprobex = printer.toolhead.position.x|float + probe["x_offset"]|float %} 
    {% set curprobey = printer.toolhead.position.y|float + probe["y_offset"]|float %} 
    RESPOND MSG="Current BLTOUCH position X={curprobex} Y={curprobey}"
  {% endif %} 